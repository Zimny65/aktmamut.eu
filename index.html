<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>AKT MAMUT</title>
  <link rel="icon" href="images/M32.png" type="image/png">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
</head>
<body>

<header>
  <div class="menu">
    <button id="menu-button">MENU</button>
    <ul class="submenu">
      <li><a href="maps/RO.html" target="_blank">KORONA GÓR RUMUNII</a></li>
      <li><a href="maps/SK.html" target="_blank">KORONA GÓR SŁOWACJI</a></li>
      <li><a href="maps/Kampinos.html" target="_blank">KORONA KAMPINOSU</a></li>
      <li><a href="maps/Masovia.html" target="_blank">KORONA MASOVII</a></li>
      <li><a href="maps/SwKrzyz.html" target="_blank">KORONA GÓR ŚWIĘTOKRZYSKICH</a></li>
    </ul>
  </div>
  <div class="title">AKT MAMUT</div>
</header>

<main>
  <iframe src="maps/EXPEDITIONS.html" id="map-frame"></iframe>
  <div id="map-click-catcher"></div>
</main>

<script>
  const menuButton = document.getElementById('menu-button');
  const submenu = document.querySelector('.submenu');
  const mapCatcher = document.getElementById('map-click-catcher');

  let menuOpen = false;

  menuButton.addEventListener('click', (e) => {
    e.stopPropagation();
    submenu.classList.toggle('visible');
    menuOpen = submenu.classList.contains('visible');

    // Jeśli menu otwarte — aktywuj blokadę kliknięcia mapy
    if (menuOpen) {
      mapCatcher.style.pointerEvents = 'auto';
    } else {
      mapCatcher.style.pointerEvents = 'none';
    }
  });

  // Kliknięcie w nakładkę nad mapą = zamyka menu + odblokowuje mapę
  mapCatcher.addEventListener('mousedown', () => {
    if (menuOpen) {
      submenu.classList.remove('visible');
      menuOpen = false;
      mapCatcher.style.pointerEvents = 'none';
    }
  });
</script>

</body>
</html>
